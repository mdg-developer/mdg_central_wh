<?xml version="1.0" encoding="UTF-8"?>
<odoo>

	<record id='view_stock_move_line_operation_tree_inherit_lot'
		model='ir.ui.view'>
		<field name='name'>stock.move.line.operations.tree</field>
		<field name='model'>stock.move.line</field>
		<field name='inherit_id' ref='stock.view_stock_move_line_operation_tree' />
		<field name='arch' type='xml'>
			<field name='lot_name' position='replace'>
				<field name="lot_name" widget="text" groups="stock.group_production_lot"
					placeholder="Write your SN/LN one by one or copy paste a list."
					readonly="0" invisible="not context.get('show_lots_text')" />
			</field>
		</field>
	</record>

	<record id="view_stock_move_line_operation_tree_inherit_package" model="ir.ui.view">
        <field name="name">stock.move.line.operations.tree.inherit.package</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_stock_move_line_operation_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='result_package_id']" position="replace">
               <field name="result_package_id" groups="stock.group_tracking_lot" attrs="{'required': [('picking_code', '=', 'incoming')]}"/>
            </xpath>
        </field>
    </record>

</odoo>